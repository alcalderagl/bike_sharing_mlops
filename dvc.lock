schema: '2.0'
stages:
  clean_data:
    cmd: python src/clean_data.py --in data/raw/dataset.csv --out 
      data/clean/clean.csv
    deps:
    - path: data/raw/dataset.csv
      hash: md5
      md5: 7747b2efcdd3801b83c1cfce2d600c15
      size: 1144308
    - path: src/clean_data.py
      hash: md5
      md5: b20473219dbf5795c58eefe552b72726
      size: 414
    outs:
    - path: data/clean/clean.csv
      hash: md5
      md5: 7747b2efcdd3801b83c1cfce2d600c15
      size: 1144308
  prepare_features:
    cmd: python src/prepare_features.py --in data/clean/clean.csv --out 
      data/clean/features.csv
    deps:
    - path: data/clean/clean.csv
      hash: md5
      md5: 7747b2efcdd3801b83c1cfce2d600c15
      size: 1144308
    - path: src/prepare_features.py
      hash: md5
      md5: 065f58e8593635c2ff4e813a17bdd9d4
      size: 615
    outs:
    - path: data/clean/features.csv
      hash: md5
      md5: 4414941dbf3e807fa837405bd8cbda4c
      size: 1237486
  train_model:
    cmd: python src/models/train_model.py data/interim models/preprocessor.pkl 
      models/final_pipeline.pkl
    deps:
    - path: data/interim/
      hash: md5
      md5: 58ea7b9631b099833b79c21ad665a9fd.dir
      size: 49140
      nfiles: 4
    - path: models/preprocessor.pkl
      hash: md5
      md5: 4e588084ba22d6a80276bdc7e99fb99b
      size: 4632
    - path: src/models/train_model.py
      hash: md5
      md5: 58a3022e185a70984aa5357cc2627731
      size: 6186
    outs:
    - path: models/final_pipeline.pkl
      hash: md5
      md5: cb7671b7ca037ceba3dc0759d8d55627
      size: 3024704
  process_data:
    cmd: python src/data/make_dataset.py data/raw/bike_sharing_modified.csv 
      data/processed/bike_sharing_processed.csv
    deps:
    - path: data/raw/bike_sharing_modified.csv
      hash: md5
      md5: 1484028223d304a18ddd9ce33a1af441
      size: 1686247
    - path: src/data/make_dataset.py
      hash: md5
      md5: a0f6941f5decf6f2b80c86128000127a
      size: 5460
    outs:
    - path: data/processed/bike_sharing_processed.csv
      hash: md5
      md5: a8771d2833d5245edec5cee345c8296f
      size: 48494
  split_and_preprocess:
    cmd: python src/features/build_features.py 
      data/processed/bike_sharing_processed.csv data/interim 
      models/preprocessor.pkl
    deps:
    - path: data/processed/bike_sharing_processed.csv
      hash: md5
      md5: a8771d2833d5245edec5cee345c8296f
      size: 48494
    - path: src/features/build_features.py
      hash: md5
      md5: 55758debdd143a46def543233352a517
      size: 7077
    outs:
    - path: data/interim/
      hash: md5
      md5: 58ea7b9631b099833b79c21ad665a9fd.dir
      size: 49140
      nfiles: 4
    - path: models/preprocessor.pkl
      hash: md5
      md5: 4e588084ba22d6a80276bdc7e99fb99b
      size: 4632
  predict:
    cmd: python src/models/predict_model.py models/final_pipeline.pkl 
      data/interim/X_test.csv data/results/predictions_final.csv
    deps:
    - path: data/interim/X_test.csv
      hash: md5
      md5: 098c806779a6c9f17f99faad3aa29f39
      size: 7240
    - path: models/final_pipeline.pkl
      hash: md5
      md5: cb7671b7ca037ceba3dc0759d8d55627
      size: 3024704
    - path: src/models/predict_model.py
      hash: md5
      md5: dbd4f7c36b9437aa3d02048a7fe6b318
      size: 4171
    outs:
    - path: data/results/predictions_final.csv
      hash: md5
      md5: cecfe4d6a4e0ec593757362553be6611
      size: 9842
  visualize:
    cmd: python src/visualization/visualize.py 
      data/results/predictions_final.csv data/interim/y_test.csv 
      reports/figures/predictions_vs_real.png
    deps:
    - path: data/interim/y_test.csv
      hash: md5
      md5: 047645f211366cdecf307a12c507c684
      size: 2671
    - path: data/results/predictions_final.csv
      hash: md5
      md5: cecfe4d6a4e0ec593757362553be6611
      size: 9842
    - path: src/visualization/visualize.py
      hash: md5
      md5: a7ccf73a5437fd7d86289f2b6537d5da
      size: 4498
    outs:
    - path: reports/figures/predictions_vs_real.png
      hash: md5
      md5: 74be2fb57f73a9a04b7480d74db41650
      size: 55305
